// 八字数据库 - 增强版
const BAZI_DATABASE = {
    // 日柱特征详解
    RIZHU_FEATURES: {
        '甲子': '聪明秀气，学业有成，为人正直，有领导才能',
        '乙丑': '勤俭持家，精打细算，外柔内刚，事业稳定',
        '丙寅': '热情开朗，富有朝气，自信大方，人缘极佳',
        '丁卯': '文静秀气，心思细腻，艺术天赋，感情丰富',
        '戊辰': '稳重踏实，诚信可靠，财运稳定，中年发迹',
        '己巳': '聪明机智，学习能力强，交际广泛，事业多变',
        '庚午': '刚毅果断，事业心强，正直不阿，中年显贵',
        '辛未': '外柔内刚，心思缜密，理财有方，晚年富足',
        '壬申': '足智多谋，适应力强，变动较多，适合经商',
        '癸酉': '聪明伶俐，敏感多思，艺术天赋，感情细腻',
        '甲戌': '忠诚可靠，责任心强，事业发展稳定',
        '乙亥': '温文尔雅，人缘良好，适合文职工作',
        '丙子': '聪明机智，反应灵敏，早年辛苦晚年福',
        '丁丑': '勤奋踏实，任劳任怨，财运逐渐积累',
        '戊寅': '自信果断，领导能力强，事业易成',
        '己卯': '温和善良，艺术气质，适合创意工作',
        '庚辰': '刚毅正直，意志坚定，事业有成就',
        '辛巳': '精明能干，善于交际，财运亨通',
        '壬午': '热情开朗，人缘极佳，适合服务业',
        '癸未': '温和谦逊，学习能力强，适合研究',
        '甲申': '机智灵活，适应力强，变动中求发展',
        '乙酉': '细致认真，追求完美，适合技术工作',
        '丙戌': '热情大方，乐于助人，事业发展顺利',
        '丁亥': '聪明灵秀，感悟力强，适合艺术创作',
        '戊子': '稳重踏实，理财有方，中年后财运佳',
        '己丑': '勤奋努力，持之以恒，事业稳步上升',
        '庚寅': '果断勇敢，行动力强，适合创业',
        '辛卯': '敏感细心，审美观好，适合设计工作',
        '壬辰': '智慧过人，适应力强，事业多变但能成',
        '癸巳': '聪明机智，学习快速，适合研究开发'
    },
    
    // 五行职业推荐（详细版）
    WUXING_CAREERS: {
        '木': ['教育行业', '文化传播', '出版编辑', '园林设计', '中医养生', '心理咨询', '艺术创作', '文学写作', '教育培训', '绿色能源'],
        '火': ['互联网科技', '市场营销', '广告策划', '餐饮娱乐', '能源化工', '演艺传媒', '体育健身', '美容美发', '心理咨询', '教育培训'],
        '土': ['房地产建筑', '金融投资', '农业种植', '矿产资源', '珠宝玉石', '土地规划', '物业管理', '仓储物流', '陶瓷工艺', '古董收藏'],
        '金': ['机械制造', '法律司法', '金融银行', '军警安保', '五金工具', '汽车行业', 'IT技术', '精密仪器', '航空航天', '金属加工'],
        '水': ['贸易物流', '旅游酒店', '航运交通', '咨询顾问', '医疗保健', '水产养殖', '饮料酒业', '洗涤清洁', '影视传媒', '外交事务']
    },
    
    // 五行颜色搭配
    WUXING_COLORS: {
        '木': ['绿色', '青色', '翠色', '草绿', '橄榄绿'],
        '火': ['红色', '紫色', '粉色', '橙色', '朱红'],
        '土': ['黄色', '棕色', '米色', '驼色', '卡其色'],
        '金': ['白色', '金色', '银色', '香槟色', '铂金色'],
        '水': ['黑色', '蓝色', '灰色', '藏青色', '深蓝色']
    },
    
    // 五行健康注意
    WUXING_HEALTH: {
        '木': '肝胆系统、眼睛、神经紧张、筋骨酸痛',
        '火': '心脏系统、血液循环、高血压、失眠',
        '土': '脾胃消化、皮肤问题、营养不良、肥胖',
        '金': '呼吸系统、肺部、皮肤干燥、牙齿',
        '水': '肾脏泌尿、生殖系统、耳部、骨质疏松'
    },
    
    // 五行方位吉凶
    WUXING_DIRECTIONS: {
        '木': { '吉': '东方、东南', '凶': '西方', '平': '北方、南方' },
        '火': { '吉': '南方', '凶': '北方', '平': '东方、西方' },
        '土': { '吉': '中央、西南、东北', '凶': '东方', '平': '南方、西方' },
        '金': { '吉': '西方、西北', '凶': '南方', '平': '北方、中央' },
        '水': { '吉': '北方', '凶': '中央', '平': '西方、东方' }
    },
    
    // 神煞详解
    SHEN_SHA_DETAILS: {
        '天乙贵人': '最吉之神，遇难呈祥，逢凶化吉，主聪明智慧，人缘佳',
        '文昌贵人': '主聪明过人，文笔出众，学业有成，考试顺利',
        '太极贵人': '主聪明好学，有钻研精神，与宗教哲学有缘',
        '天德贵人': '主仁慈宽厚，逢凶化吉，一生少病痛',
        '月德贵人': '主心地善良，人缘好，做事顺利',
        '将星': '主领导才能，权力欲望，适合管理职位',
        '华盖': '主聪明孤傲，有艺术才华，与宗教有缘',
        '桃花': '主人缘好，异性缘佳，感情丰富',
        '驿马': '主动荡奔波，适合变动性工作，常出差或搬家',
        '羊刃': '主刚强勇猛，易冲动，需注意意外伤害',
        '亡神': '主心神不宁，易有是非，需注意口舌之争',
        '劫煞': '主破财损丁，易有意外，需谨慎行事'
    },
    
    // 合婚匹配度
    HEHUN_COMPATIBILITY: {
        '上等婚': '年柱天合地合，日柱相生，主婚姻美满，家运昌隆',
        '中等婚': '年柱相生，日柱平和，主婚姻稳定，相敬如宾',
        '下等婚': '年柱相冲，日柱相克，主婚姻多波折，需多加包容'
    }
};

class BaziInterpreter {
    constructor() {
        this.database = BAZI_DATABASE;
    }
    
    // 解析日柱特征
    interpretRizhu(rizhuGanZhi) {
        return this.database.RIZHU_FEATURES[rizhuGanZhi] || 
               '此日柱之人，性格随和，适应力强，一生平稳，需把握机遇。';
    }
    
    // 获取职业建议
    getCareerSuggestions(wuxing) {
        const suggestions = this.database.WUXING_CAREERS[wuxing];
        return suggestions || ['公务员', '行政管理', '自由职业', '技术工作'];
    }
    
    // 获取颜色建议
    getColorSuggestions(wuxing) {
        return this.database.WUXING_COLORS[wuxing] || ['蓝色', '绿色', '黄色'];
    }
    
    // 获取健康建议
    getHealthAdvice(wuxing) {
        return this.database.WUXING_HEALTH[wuxing] || '注意饮食规律，适当运动，定期体检。';
    }
    
    // 获取方位建议
    getDirectionAdvice(wuxing) {
        const dirs = this.database.WUXING_DIRECTIONS[wuxing];
        if (!dirs) return '东南方为吉';
        return `吉利方位：${dirs['吉'].join('、')}；忌讳方位：${dirs['凶']}`;
    }
    
    // 解析神煞
    interpretShenSha(shenShaName) {
        return this.database.SHEN_SHA_DETAILS[shenShaName] || '此神煞影响力中等，吉凶参半。';
    }
    
    // 获取合婚建议
    getHehunAdvice(compatibilityLevel) {
        return this.database.HEHUN_COMPATIBILITY[compatibilityLevel] || 
               '婚姻需要双方共同经营，互敬互爱，方能长久。';
    }
}